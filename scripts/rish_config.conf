# RISH Harmonization Pipeline Configuration
# Based on MRtrix3_FBA style

#=============================================================================
# PATHS
#=============================================================================
INPUT_PATH=/home/uqahonne/uq/ukb/data/sample_cud_dmri
DERIVATIVES_PATH=derivatives/mrtrix-rish
SUBLIST_FILE=./sublist.txt

#=============================================================================
# BIDS NAMING
#=============================================================================
SESSION=ses-1

# Phase encoding directions
MAIN_PE_DIR=AP
BLIPPED_PE_DIR=PA

#=============================================================================
# PREPROCESSING PARAMETERS
#=============================================================================
VOXEL_SIZE=1.25
PHASE_ENCODING_DIR=AP

# Eddy options
EDDY_OPTIONS="--slm=linear --cnr_maps"

# Quality control
MIN_SNR=10

#=============================================================================
# FOD PARAMETERS
#=============================================================================
# Maximum SH order (8 for single-shell HARDI, 8 for multi-shell)
LMAX=8

# Response estimation algorithm: tournier (single-shell) or dhollander (multi-shell)
# Set to "auto" to detect automatically
RESPONSE_ALGORITHM=auto

#=============================================================================
# RISH HARMONIZATION PARAMETERS
#=============================================================================
# Reference site subjects (space-separated list or file path)
# These subjects define the "target" harmonization space
REFERENCE_SUBJECTS="sub-002"

# Target site subjects to harmonize (can use "all" for non-reference subjects)
TARGET_SUBJECTS="sub-003"

# Scale map smoothing FWHM (mm)
SMOOTHING_FWHM=3.0

# Scale factor clipping range
SCALE_MIN=0.5
SCALE_MAX=2.0

#=============================================================================
# PROCESSING OPTIONS
#=============================================================================
# Steps to run (comma-separated): preprocess,fod,rish,qc
# Use "all" to run entire pipeline
STEPS=all

# Resume capability
ENABLE_CHECKPOINTS=true
CHECKPOINT_DIR=./rish_checkpoints

# Parallel processing
NTHREADS=4

# Force overwrite existing files
FORCE_OVERWRITE=true

# Debug mode (verbose output)
DEBUG_MODE=false
